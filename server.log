2022/12/31 18:11:46 mysql dsn: wenzhouyao:HDLJD1lzsx--@tcp(192.168.1.99:3306)/category?charset=utf8&parseTime=True&loc=Local&timeout=10s
2022/12/31 18:11:46 pgsql dsn: host=192.168.1.99 user=wenzhouyao password=HDLJD1lzsx-- dbname=category port=5432 sslmode=disable currentSchema=tenant_wenzhouyao TimeZone=Asia/Shanghai

2022/12/31 18:11:46 [35m/home/adc/projects/go_category/domain/db/pgsql.go:27
[0m[31m[error] [0mfailed to initialize database, got error failed to connect to `host=192.168.1.99 user=wenzhouyao database=category`: server error (FATAL: unrecognized configuration parameter "currentSchema" (SQLSTATE 42704))
2022/12/31 18:11:46 gorm.Open fail.: failed to connect to `host=192.168.1.99 user=wenzhouyao database=category`: server error (FATAL: unrecognized configuration parameter "currentSchema" (SQLSTATE 42704))
2022/12/31 18:47:47 mysql dsn: wenzhouyao:HDLJD1lzsx--@tcp(192.168.1.99:3306)/category?charset=utf8&parseTime=True&loc=Local&timeout=10s
2022/12/31 18:47:47 pgsql dsn: host=192.168.1.99 user=wenzhouyao password=HDLJD1lzsx-- dbname=category port=5432 sslmode=disable TimeZone=Asia/Shanghai

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/mysql.go:56
[0m[33m[0.204ms] [34;1m[rows:-][0m SELECT DATABASE()

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/mysql.go:56
[0m[33m[0.850ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'category%' ORDER BY SCHEMA_NAME='category' DESC,SCHEMA_NAME limit 1

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/mysql.go:56
[0m[33m[1.060ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'category' AND table_name = 'user' AND table_type = 'BASE TABLE'

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/mysql.go:56
[0m[33m[0.174ms] [34;1m[rows:-][0m SELECT DATABASE()

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/mysql.go:56
[0m[33m[0.676ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'category%' ORDER BY SCHEMA_NAME='category' DESC,SCHEMA_NAME limit 1

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/mysql.go:56
[0m[33m[0.484ms] [34;1m[rows:-][0m SELECT * FROM `user` LIMIT 1

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/mysql.go:56
[0m[33m[1.111ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'category' AND table_name = 'user' ORDER BY ORDINAL_POSITION

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[3.060ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user' AND table_type = 'BASE TABLE'

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[0.484ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[8.447ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'category' AND table_schema = CURRENT_SCHEMA() AND table_name = 'user'

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[0.302ms] [34;1m[rows:-][0m SELECT * FROM "user" LIMIT 1

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[8.493ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'category' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user' AND constraint_type = 'UNIQUE'

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[6.326ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'category' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'user'

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[0.722ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'user'

2022/12/31 18:47:47 [32m/home/adc/projects/go_category/domain/db/pgsql.go:56
[0m[33m[1.800ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'user' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'user' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))
